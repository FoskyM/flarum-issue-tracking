{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@foskym/flarum-issue-tracking/webpack/bootstrap","webpack://@foskym/flarum-issue-tracking/webpack/runtime/compat get default export","webpack://@foskym/flarum-issue-tracking/webpack/runtime/define property getters","webpack://@foskym/flarum-issue-tracking/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-issue-tracking/webpack/runtime/make namespace object","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/extenders']\"","webpack://@foskym/flarum-issue-tracking/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-issue-tracking/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/Model']\"","webpack://@foskym/flarum-issue-tracking/./src/common/models/Issue.js","webpack://@foskym/flarum-issue-tracking/./src/common/models/DiscussionIssue.js","webpack://@foskym/flarum-issue-tracking/./src/common/extend.js","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/app']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/extend']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/components/LogInModal']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/app']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Page']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/Component']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/humanTime']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Link']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/abbreviateNumber']\"","webpack://@foskym/flarum-issue-tracking/./src/common/components/Label.tsx","webpack://@foskym/flarum-issue-tracking/./src/common/components/LabelGroup.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssueListItem.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssueList.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssuePage.tsx","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/ComposerBody']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssueComposer.js","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/components/DiscussionHero']\"","webpack://@foskym/flarum-issue-tracking/./src/forum/index.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/addLabels.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Issue extends Model {\n  id = Model.attribute('id');\n  slug = Model.attribute('slug');\n  title = Model.attribute('title');\n  description = Model.attribute('description');\n  author = Model.attribute('author');\n  state = Model.attribute('state');\n  priority = Model.attribute('priority');\n  type = Model.attribute('type');\n  created_at = Model.attribute('created_at', Model.transformDate);\n  updated_at = Model.attribute('updated_at', Model.transformDate);\n  resolved_at = Model.attribute('resolved_at', Model.transformDate);\n  discussion = Model.hasOne('discussion');\n  discussion_id = Model.attribute('discussion_id');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class DiscussionIssue extends Model {\n  id = Model.attribute('id');\n  discussion_id = Model.attribute('discussion_id');\n  issue_id = Model.attribute('issue_id');\n}\n","import Extend from 'flarum/common/extenders';\nimport Issue from \"./models/Issue\";\nimport DiscussionIssue from './models/DiscussionIssue';\n\nexport default [\n  new Extend.Store()\n    .add('issue-tracking-issues', Issue)\n    .add('issue-tracking-discussion-issue', DiscussionIssue),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/abbreviateNumber'];","import Component from 'flarum/common/Component';\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class Label extends Component {\r\n  view(vnode: Mithril.Vnode) {\r\n    let style = {};\r\n    let className = ['IssueTracking-Label'];\r\n\r\n    if (this.attrs.className) className.push(this.attrs.className);\r\n\r\n    style.color = this.attrs.foreground || '#fff';\r\n\r\n    if (this.attrs.background) {\r\n      style.backgroundColor = `${this.attrs.background}`;\r\n      className.push('colored');\r\n    }\r\n\r\n    return (\r\n      <span className={className.join(' ')} style={style}>\r\n        <span className=\"IssueTracking-Label-text\">{vnode.children}</span>\r\n      </span>\r\n    );\r\n  }\r\n}","import Component from 'flarum/common/Component';\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class LabelGroup extends Component {\r\n  view(vnode: Mithril.Vnode) {\r\n    let className = ['IssueTracking-LabelGroup'];\r\n\r\n    if (this.attrs.className) className.push(this.attrs.className);\r\n\r\n    return <span className={className.join(' ')}>{vnode.children}</span>;\r\n  }\r\n}","import app from 'flarum/common/app';\r\nimport Component from 'flarum/common/Component';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Tooltip from 'flarum/common/components/Tooltip';\r\nimport Link from 'flarum/common/components/Link';\r\nimport TerminalPost from 'flarum/forum/components/TerminalPost';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\r\nimport Label from '../../common/components/Label';\r\nimport LabelGroup from '../../common/components/LabelGroup';\r\n\r\nimport type Mithril from 'mithril';\r\nexport default class IssueListItem extends Component {\r\n  view() {\r\n    const issue = this.attrs.issue;\r\n    const discussion = issue.discussion();\r\n    const user = discussion.user();\r\n\r\n    return (\r\n      <div className=\"DiscussionListItem\">\r\n        <div className=\"DiscussionListItem-content\">\r\n          <Tooltip\r\n            text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\r\n            position=\"right\"\r\n          >\r\n            <Link className=\"DiscussionListItem-author\" href={user ? app.route.user(user) : '#'}>\r\n              {avatar(user || null, { title: '' })}\r\n            </Link>\r\n          </Tooltip>\r\n          {/* <ul className=\"DiscussionListItem-badges badges\">{listItems(this.badgeItems(issue).toArray())}</ul> */}\r\n\r\n          <Link href={app.route.discussion(discussion, this.getJumpTo())} className=\"DiscussionListItem-main\">\r\n            <h2 className=\"DiscussionListItem-title\">{discussion.title()}</h2>\r\n            <ul className=\"DiscussionListItem-info\">{listItems(this.infoItems(issue).toArray())}</ul>\r\n          </Link>\r\n\r\n          <span className=\"DiscussionListItem-count\">\r\n            <span aria-hidden=\"true\">{abbreviateNumber(issue.discussion().replyCount())}</span>\r\n\r\n            <span className=\"visually-hidden\">\r\n              {app.translator.trans('core.forum.discussion_list.total_replies_a11y_label', { count: issue.discussion().replyCount() })}\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getJumpTo() {\r\n    const issue = this.attrs.issue;\r\n    const discussion = issue.discussion();\r\n    const user = discussion.user();\r\n    let jumpTo = 0;\r\n\r\n    jumpTo = Math.min(discussion.lastPostNumber() ?? 0, (discussion.lastReadPostNumber() || 0) + 1);\r\n\r\n    return jumpTo;\r\n  }\r\n\r\n  infoItems(issue: any) {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'terminalPost',\r\n      <span>\r\n        {icon('far fa-clock')} {app.translator.trans('foskym-issue-tracking.forum.last_updated', { time: humanTime(issue.updated_at()) })}\r\n      </span>\r\n    );\r\n\r\n    items.add(\r\n      'tags',\r\n      <LabelGroup>\r\n        {['state', 'type', 'priority'].map((key) => {\r\n          return (\r\n            <Label background={issue[key]().background} foreground={issue[key]().foreground}>\r\n              {issue[key]().name}\r\n            </Label>\r\n          );\r\n        })}\r\n      </LabelGroup>\r\n    );\r\n\r\n    return items;\r\n  }\r\n}\r\n","import app from 'flarum/common/app';\r\nimport Component from 'flarum/common/Component';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Button from 'flarum/common/components/Button';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport IssueListItem from './IssueListItem';\r\n\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class IssueList extends Component {\r\n  issues: any[] = [];\r\n  loading = true;\r\n  sorts = ['newest', 'oldest', 'latest'];\r\n  current_sort = 'latest';\r\n\r\n  oninit(vnode: Mithril.Vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  view() {\r\n    const issuesVnodes: Mithril.Vnode[] = [];\r\n\r\n    this.issues.forEach((issue) => {\r\n      issuesVnodes.push(\r\n        <li>\r\n          <IssueListItem issue={issue} />\r\n        </li>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"IssueTracking-issues\">\r\n        <div className=\"IndexPage-toolbar\">\r\n          <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\r\n          <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\r\n        </div>\r\n        {this.loading ? (\r\n          <LoadingIndicator />\r\n        ) : (\r\n          <div className=\"IssueTracking-issuesContainer\">\r\n            <ul className=\"IssueTracking-issuesList\">{issuesVnodes}</ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  refresh() {\r\n    this.loading = true;\r\n    this.issues = [];\r\n    app.store.find('issue-tracking-issues', {\r\n      sort: this.current_sort,\r\n    }).then((issues: any) => {\r\n      this.issues = issues;\r\n      this.loading = false;\r\n      m.redraw();\r\n    });\r\n  }\r\n\r\n  changeState(sort: string) {\r\n    this.current_sort = sort;\r\n    this.refresh();\r\n  }\r\n\r\n  viewItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'sort',\r\n      <Dropdown buttonClassName=\"Button\" label={app.translator.trans(`foskym-issue-tracking.forum.sort.${this.current_sort}_button`)}>\r\n        {this.sorts.map((sort) => {\r\n          const active = sort === this.current_sort;\r\n\r\n          return (\r\n            <Button icon={active ? 'fas fa-check' : ' '} onclick={this.changeState.bind(this, sort)} active={active}>\r\n              {app.translator.trans(`foskym-issue-tracking.forum.sort.${sort}_button`)}\r\n            </Button>\r\n          );\r\n        })}\r\n      </Dropdown>\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  actionItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'refresh',\r\n      Button.component({\r\n        title: app.translator.trans('core.forum.index.refresh_tooltip'),\r\n        icon: 'fas fa-sync',\r\n        className: 'Button Button--icon',\r\n        onclick: this.refresh.bind(this),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n}","import app from 'flarum/common/app';\r\nimport Page from 'flarum/common/components/Page';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport IssueList from './IssueList';\r\n\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class IssuePage extends Page {\r\n  loading = true;\r\n  oninit(vnode: Mithril.Vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(extractText(app.translator.trans('foskym-issue-tracking.forum.title')));\r\n    app.setTitleCount(0);\r\n\r\n    this.load();\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className=\"IndexPage\">\r\n        \r\n        <div className=\"container\">\r\n          <div className=\"sideNavContainer\">\r\n            <nav className=\"IndexPage-nav sideNav\">\r\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n            </nav>\r\n            <div className=\"IndexPage-results sideNavOffset\">\r\n              {this.loading ? <LoadingIndicator /> : <IssueList/>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  load() {\r\n    this.loading = false;\r\n  }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/ComposerBody'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import ComposerBody from 'flarum/common/components/ComposerBody';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport app from 'flarum/common/app';\r\nimport Stream from 'flarum/common/utils/Stream';\r\n\r\nexport default class IssueComposer extends ComposerBody {\r\n  static initAttrs(attrs) {\r\n    super.initAttrs(attrs);\r\n\r\n    attrs.placeholder = attrs.placeholder || extractText(app.translator.trans('foskym-issue-tracking.forum.composer.body_placeholder'));\r\n    attrs.submitLabel = attrs.submitLabel || app.translator.trans('foskym-issue-tracking.forum.composer.submit_button');\r\n    attrs.confirmExit = attrs.confirmExit || extractText(app.translator.trans('foskym-issue-tracking.forum.composer.discard_confirmation'));\r\n    attrs.titlePlaceholder = attrs.titlePlaceholder || extractText(app.translator.trans('foskym-issue-tracking.forum.composer.title_placeholder'));\r\n    attrs.className = 'ComposerBody--issue';\r\n  }\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.composer.fields.title = this.composer.fields.title || Stream('');\r\n\r\n    this.title = this.composer.fields.title;\r\n  }\r\n\r\n  headerItems() {\r\n    const items = super.headerItems();\r\n\r\n    // items.add('title', <h3>{app.translator.trans('foskym-issue-tracking.forum.composer.title')}</h3>, 100);\r\n\r\n    items.add(\r\n      'issueTitle',\r\n      <h3>\r\n        <input\r\n          className=\"FormControl\"\r\n          bidi={this.title}\r\n          placeholder={this.attrs.titlePlaceholder}\r\n          disabled={!!this.attrs.disabled}\r\n          onkeydown={this.onkeydown.bind(this)}\r\n        />\r\n      </h3>\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Handle the title input's keydown event. When the return key is pressed,\r\n   * move the focus to the start of the text editor.\r\n   *\r\n   * @param {KeyboardEvent} e\r\n   */\r\n  onkeydown(e) {\r\n    if (e.which === 13) {\r\n      // Return\r\n      e.preventDefault();\r\n      this.composer.editor.moveCursorTo(0);\r\n    }\r\n\r\n    e.redraw = false;\r\n  }\r\n\r\n  hasChanges() {\r\n    return this.title() || this.composer.fields.content();\r\n  }\r\n\r\n  /**\r\n   * Get the data to submit to the server when the issue is saved.\r\n   *\r\n   * @return {Record<string, unknown>}\r\n   */\r\n  data() {\r\n    return {\r\n      title: this.title(),\r\n      content: this.composer.fields.content(),\r\n    };\r\n  }\r\n\r\n  onsubmit() {\r\n    this.loading = true;\r\n\r\n    const data = this.data();\r\n\r\n    app.store\r\n      .createRecord('issue-tracking-issues')\r\n      .save(data)\r\n      .then((issue) => {\r\n        this.composer.hide();\r\n        m.route.set('/d/' + issue.discussion_id());\r\n      }, this.loaded.bind(this));\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionHero'];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport LogInModal from 'flarum/forum/components/LogInModal';\nimport Button from 'flarum/common/components/Button';\n\nimport IssuePage from './components/IssuePage';\nimport IssueComposer from './components/IssueComposer';\n\nimport addLabels from './addLabels';\n\napp.initializers.add('foskym/flarum-issue-tracking', () => {\n  app.routes.issues = {\n    path: '/issues',\n    component: IssuePage,\n  };\n\n  extend(IndexPage.prototype, 'navItems', (navItems) => {\n    navItems.add(\n      'issues',\n      <LinkButton href={app.route('issues')} icon=\"fas fa-bug\">\n        {app.translator.trans('foskym-issue-tracking.forum.title')}\n      </LinkButton>,\n      100\n    );\n\n    return navItems;\n  });\n\n  function newIssueAction(): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      if (app.session.user) {\n        app.composer.load(IssueComposer, { user: app.session.user });\n        app.composer.show();\n\n        return resolve(app.composer);\n      } else {\n        app.modal.show(LogInModal);\n\n        return reject();\n      }\n    });\n  }\n\n  extend(IndexPage.prototype, 'sidebarItems', function (items) {\n    const route = app.current.data.routeName;\n    if (route !== 'issues') return;\n\n    const canCreateIssue = app.forum.attribute('foskym-issue-tracking.enable_create_issue') || !app.session.user;\n    const cta = items.get('newDiscussion');\n    cta.children = app.translator.trans(canCreateIssue ? 'foskym-issue-tracking.forum.new_issue' : 'foskym-issue-tracking.forum.cannot_create_issue');\n\n    cta.attrs.disabled = !canCreateIssue;\n    cta.attrs.onclick = () => {\n      return newIssueAction().catch(() => {});\n    };\n\n    if (items.has('startDiscussion')) {\n      items.setContent('startDiscussion', cta);\n    }\n  });\n\n  addLabels();\n});\n","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\r\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\r\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport Label from '../common/components/Label';\r\nimport LabelGroup from '../common/components/LabelGroup';\r\n\r\nexport default function () {\r\n  let issue: any;\r\n  let loading = true;\r\n  extend(DiscussionHero.prototype, 'oninit', function () {\r\n    app.store.find('issue-tracking/issue?id=' + this.attrs.discussion.id()).then((data: any) => {\r\n      console.log(data);\r\n      issue = data;\r\n      loading = false;\r\n      m.redraw();\r\n    });\r\n  });\r\n\r\n  extend(DiscussionHero.prototype, 'items', function (items) {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (!issue) {\r\n      return;\r\n    }\r\n    items.add(\r\n      'tags',\r\n      <LabelGroup>\r\n        {['state', 'type', 'priority'].map((key) => {\r\n          return (\r\n            <Label background={issue[key]().background} foreground={issue[key]().foreground}>\r\n              {issue[key]().name}\r\n            </Label>\r\n          );\r\n        })}\r\n      </LabelGroup>\r\n    );\r\n  });\r\n}\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","Issue","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","id","Model","slug","title","description","author","state","priority","type","created_at","updated_at","resolved_at","discussion","discussion_id","DiscussionIssue","issue_id","Extend","add","Label","_Component","view","vnode","style","className","this","attrs","push","color","foreground","background","backgroundColor","m","join","children","Component","LabelGroup","IssueListItem","_proto","issue","user","Tooltip","text","app","trans","ago","humanTime","createdAt","position","Link","href","avatar","getJumpTo","listItems","infoItems","toArray","abbreviateNumber","replyCount","count","_discussion$lastPostN","Math","min","lastPostNumber","lastReadPostNumber","items","ItemList","icon","time","map","name","IssueList","issues","loading","sorts","current_sort","oninit","refresh","issuesVnodes","forEach","viewItems","actionItems","LoadingIndicator","_this2","find","sort","then","redraw","changeState","_this3","Dropdown","buttonClassName","label","active","Button","onclick","IssuePage","_Page","extractText","load","IndexPage","sidebarItems","Page","IssueComposer","_ComposerBody","initAttrs","placeholder","submitLabel","confirmExit","titlePlaceholder","composer","fields","Stream","headerItems","bidi","disabled","onkeydown","which","preventDefault","editor","moveCursorTo","hasChanges","content","data","onsubmit","createRecord","save","hide","route","set","loaded","ComposerBody","path","component","extend","navItems","LinkButton","routeName","canCreateIssue","attribute","cta","Promise","resolve","reject","show","LogInModal","has","setContent","DiscussionHero","console","log"],"sourceRoot":""}