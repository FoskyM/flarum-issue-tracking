{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@foskym/flarum-issue-tracking/webpack/bootstrap","webpack://@foskym/flarum-issue-tracking/webpack/runtime/compat get default export","webpack://@foskym/flarum-issue-tracking/webpack/runtime/define property getters","webpack://@foskym/flarum-issue-tracking/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-issue-tracking/webpack/runtime/make namespace object","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/extenders']\"","webpack://@foskym/flarum-issue-tracking/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-issue-tracking/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/Model']\"","webpack://@foskym/flarum-issue-tracking/./src/common/models/Issue.js","webpack://@foskym/flarum-issue-tracking/./src/common/models/DiscussionIssue.js","webpack://@foskym/flarum-issue-tracking/./src/common/extend.js","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/app']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/extend']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/app']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Page']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/Component']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/humanTime']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/components/Link']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['common/utils/abbreviateNumber']\"","webpack://@foskym/flarum-issue-tracking/./src/common/components/Label.tsx","webpack://@foskym/flarum-issue-tracking/./src/common/components/LabelGroup.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssueListItem.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssueList.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/components/IssuePage.tsx","webpack://@foskym/flarum-issue-tracking/external root \"flarum.core.compat['forum/components/DiscussionHero']\"","webpack://@foskym/flarum-issue-tracking/./src/forum/index.tsx","webpack://@foskym/flarum-issue-tracking/./src/forum/addLabels.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Issue extends Model {\n  id = Model.attribute('id');\n  slug = Model.attribute('slug');\n  title = Model.attribute('title');\n  description = Model.attribute('description');\n  author = Model.attribute('author');\n  state = Model.attribute('state');\n  priority = Model.attribute('priority');\n  type = Model.attribute('type');\n  created_at = Model.attribute('created_at', Model.transformDate);\n  updated_at = Model.attribute('updated_at', Model.transformDate);\n  resolved_at = Model.attribute('resolved_at', Model.transformDate);\n  discussion = Model.hasOne('discussion');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class DiscussionIssue extends Model {\n  id = Model.attribute('id');\n  discussion_id = Model.attribute('discussion_id');\n  issue_id = Model.attribute('issue_id');\n}\n","import Extend from 'flarum/common/extenders';\nimport Issue from \"./models/Issue\";\nimport DiscussionIssue from './models/DiscussionIssue';\n\nexport default [\n  new Extend.Store()\n    .add('issue-tracking-issues', Issue)\n    .add('issue-tracking-discussion-issue', DiscussionIssue),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/abbreviateNumber'];","import Component from 'flarum/common/Component';\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class Label extends Component {\r\n  view(vnode: Mithril.Vnode) {\r\n    let style = {};\r\n    let className = ['IssueTracking-Label'];\r\n\r\n    if (this.attrs.className) className.push(this.attrs.className);\r\n\r\n    style.color = this.attrs.foreground || '#fff';\r\n\r\n    if (this.attrs.background) {\r\n      style.backgroundColor = `${this.attrs.background}`;\r\n      className.push('colored');\r\n    }\r\n\r\n    return (\r\n      <span className={className.join(' ')} style={style}>\r\n        <span className=\"IssueTracking-Label-text\">{vnode.children}</span>\r\n      </span>\r\n    );\r\n  }\r\n}","import Component from 'flarum/common/Component';\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class LabelGroup extends Component {\r\n  view(vnode: Mithril.Vnode) {\r\n    let className = ['IssueTracking-LabelGroup'];\r\n\r\n    if (this.attrs.className) className.push(this.attrs.className);\r\n\r\n    return <span className={className.join(' ')}>{vnode.children}</span>;\r\n  }\r\n}","import app from 'flarum/common/app';\r\nimport Component from 'flarum/common/Component';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Tooltip from 'flarum/common/components/Tooltip';\r\nimport Link from 'flarum/common/components/Link';\r\nimport TerminalPost from 'flarum/forum/components/TerminalPost';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport abbreviateNumber from 'flarum/common/utils/abbreviateNumber';\r\nimport Label from '../../common/components/Label';\r\nimport LabelGroup from '../../common/components/LabelGroup';\r\n\r\nimport type Mithril from 'mithril';\r\nexport default class IssueListItem extends Component {\r\n  view() {\r\n    const issue = this.attrs.issue;\r\n    const discussion = issue.discussion();\r\n    const user = discussion.user();\r\n\r\n    return (\r\n      <div className=\"DiscussionListItem\">\r\n        <div className=\"DiscussionListItem-content\">\r\n          <Tooltip\r\n            text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\r\n            position=\"right\"\r\n          >\r\n            <Link className=\"DiscussionListItem-author\" href={user ? app.route.user(user) : '#'}>\r\n              {avatar(user || null, { title: '' })}\r\n            </Link>\r\n          </Tooltip>\r\n          {/* <ul className=\"DiscussionListItem-badges badges\">{listItems(this.badgeItems(issue).toArray())}</ul> */}\r\n\r\n          <Link href={app.route.discussion(discussion, this.getJumpTo())} className=\"DiscussionListItem-main\">\r\n            <h2 className=\"DiscussionListItem-title\">{discussion.title()}</h2>\r\n            <ul className=\"DiscussionListItem-info\">{listItems(this.infoItems(issue).toArray())}</ul>\r\n          </Link>\r\n\r\n          <span className=\"DiscussionListItem-count\">\r\n            <span aria-hidden=\"true\">{abbreviateNumber(issue.discussion().replyCount())}</span>\r\n\r\n            <span className=\"visually-hidden\">\r\n              {app.translator.trans('core.forum.discussion_list.total_replies_a11y_label', { count: issue.discussion().replyCount() })}\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getJumpTo() {\r\n    const issue = this.attrs.issue;\r\n    const discussion = issue.discussion();\r\n    const user = discussion.user();\r\n    let jumpTo = 0;\r\n\r\n    jumpTo = Math.min(discussion.lastPostNumber() ?? 0, (discussion.lastReadPostNumber() || 0) + 1);\r\n\r\n    return jumpTo;\r\n  }\r\n\r\n  infoItems(issue: any) {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'terminalPost',\r\n      <span>\r\n        {icon('far fa-clock')} {app.translator.trans('foskym-issue-tracking.forum.last_updated', { time: humanTime(issue.updated_at()) })}\r\n      </span>\r\n    );\r\n\r\n    items.add(\r\n      'tags',\r\n      <LabelGroup>\r\n        {['state', 'type', 'priority'].map((key) => {\r\n          return (\r\n            <Label background={issue[key]().background} foreground={issue[key]().foreground}>\r\n              {issue[key]().name}\r\n            </Label>\r\n          );\r\n        })}\r\n      </LabelGroup>\r\n    );\r\n\r\n    return items;\r\n  }\r\n}\r\n","import app from 'flarum/common/app';\r\nimport Component from 'flarum/common/Component';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Button from 'flarum/common/components/Button';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport IssueListItem from './IssueListItem';\r\n\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class IssueList extends Component {\r\n  issues: any[] = [];\r\n  loading = true;\r\n\r\n  oninit(vnode: Mithril.Vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  view() {\r\n    const issuesVnodes: Mithril.Vnode[] = [];\r\n\r\n    this.issues.forEach((issue) => {\r\n      issuesVnodes.push(\r\n        <li>\r\n          <IssueListItem issue={issue} />\r\n        </li>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"IssueTracking-issues\">\r\n        <div className=\"IndexPage-toolbar\">\r\n          <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\r\n          <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\r\n        </div>\r\n        {this.loading ? (\r\n          <LoadingIndicator />\r\n        ) : (\r\n          <div className=\"IssueTracking-issuesContainer\">\r\n            <ul className=\"IssueTracking-issuesList\">{issuesVnodes}</ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  refresh() {\r\n    this.loading = true;\r\n    this.issues = [];\r\n    app.store.find('issue-tracking/issues').then((issues: any) => {\r\n      this.issues = issues;\r\n      this.loading = false;\r\n      m.redraw();\r\n    });\r\n  }\r\n\r\n  viewItems() {\r\n    const items = new ItemList();\r\n\r\n    return items;\r\n  }\r\n\r\n  actionItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'refresh',\r\n      Button.component({\r\n        title: app.translator.trans('core.forum.index.refresh_tooltip'),\r\n        icon: 'fas fa-sync',\r\n        className: 'Button Button--icon',\r\n        onclick: this.refresh.bind(this),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n}","import app from 'flarum/common/app';\r\nimport Page from 'flarum/common/components/Page';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport IssueList from './IssueList';\r\n\r\nimport type Mithril from 'mithril';\r\n\r\nexport default class IssuePage extends Page {\r\n  loading = true;\r\n  oninit(vnode: Mithril.Vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(extractText(app.translator.trans('foskym-issue-tracking.forum.title')));\r\n    app.setTitleCount(0);\r\n\r\n    this.load();\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className=\"IndexPage\">\r\n        \r\n        <div className=\"container\">\r\n          <div className=\"sideNavContainer\">\r\n            <nav className=\"IndexPage-nav sideNav\">\r\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n            </nav>\r\n            <div className=\"IndexPage-results sideNavOffset\">\r\n              {this.loading ? <LoadingIndicator /> : <IssueList/>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  load() {\r\n    this.loading = false;\r\n  }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionHero'];","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nimport IssuePage from './components/IssuePage';\n\nimport addLabels from './addLabels';\n\napp.initializers.add('foskym/flarum-issue-tracking', () => {\n  app.routes.issues = {\n    path: '/issues',\n    component: IssuePage,\n  };\n\n  extend(IndexPage.prototype, 'navItems', (navItems) => {\n    navItems.add(\n      'issues',\n      <LinkButton href={app.route('issues')} icon=\"fab fa-github-alt\">\n        {app.translator.trans('foskym-issue-tracking.forum.title')}\n      </LinkButton>,\n      100\n    );\n\n    return navItems;\n  });\n\n  addLabels();\n});\n","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\r\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\r\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\r\nimport classList from 'flarum/common/utils/classList';\r\nimport Label from '../common/components/Label';\r\nimport LabelGroup from '../common/components/LabelGroup';\r\n\r\nexport default function () {\r\n  let issue: any;\r\n  let loading = true;\r\n  extend(DiscussionHero.prototype, 'oninit', function () {\r\n    app.store.find('issue-tracking/issue?id=' + this.attrs.discussion.id()).then((data: any) => {\r\n      console.log(data);\r\n      issue = data;\r\n      loading = false;\r\n      m.redraw();\r\n    });\r\n  });\r\n\r\n  extend(DiscussionHero.prototype, 'items', function (items) {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    if (!issue) {\r\n      return;\r\n    }\r\n    items.add(\r\n      'tags',\r\n      <LabelGroup>\r\n        {['state', 'type', 'priority'].map((key) => {\r\n          return (\r\n            <Label background={issue[key]().background} foreground={issue[key]().foreground}>\r\n              {issue[key]().name}\r\n            </Label>\r\n          );\r\n        })}\r\n      </LabelGroup>\r\n    );\r\n  });\r\n}\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","Issue","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","id","Model","slug","title","description","author","state","priority","type","created_at","updated_at","resolved_at","discussion","DiscussionIssue","discussion_id","issue_id","Extend","add","Label","_Component","view","vnode","style","className","this","attrs","push","color","foreground","background","backgroundColor","m","join","children","Component","LabelGroup","IssueListItem","_proto","issue","user","Tooltip","text","app","trans","ago","humanTime","createdAt","position","Link","href","avatar","getJumpTo","listItems","infoItems","toArray","abbreviateNumber","replyCount","count","_discussion$lastPostN","Math","min","lastPostNumber","lastReadPostNumber","items","ItemList","icon","time","map","name","IssueList","issues","loading","oninit","refresh","issuesVnodes","forEach","viewItems","actionItems","LoadingIndicator","_this2","find","then","redraw","Button","onclick","IssuePage","_Page","extractText","load","IndexPage","sidebarItems","Page","path","component","extend","navItems","LinkButton","DiscussionHero","data","console","log"],"sourceRoot":""}